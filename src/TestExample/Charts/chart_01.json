{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "background": "#f9f9f9",
  "padding": 5,
  "width": 400,
  "height": 300,
  "style": "cell",
  "data": [
    {
      "name": "data-42928075b6a95c590274554971cbda4a",
      "values": [
        {
          "State": "AK",
          "year": 2015,
          "Coal": 19511,
          "Natural Gas": 333936,
          "Petroleum": 234720,
          "Nuclear": 0,
          "Renewable": 23828,
          "State Name": "Alaska",
          "Region": "West",
          "longitude": -152.4441903195368,
          "latitude": 63.7817306238372,
          "total": 611995
        },
        {
          "State": "AL",
          "year": 2015,
          "Coal": 494311,
          "Natural Gas": 701582,
          "Petroleum": 509123,
          "Nuclear": 438728,
          "Renewable": 284415,
          "State Name": "Alabama",
          "Region": "South",
          "longitude": -86.83004707958516,
          "latitude": 32.77873167987923,
          "total": 2428159
        },
        {
          "State": "AR",
          "year": 2015,
          "Coal": 226889,
          "Natural Gas": 296826,
          "Petroleum": 312672,
          "Nuclear": 144716,
          "Renewable": 129282,
          "State Name": "Arkansas",
          "Region": "South",
          "longitude": -92.44217597111472,
          "latitude": 34.894821821705904,
          "total": 1110385
        },
        {
          "State": "AZ",
          "year": 2015,
          "Coal": 385822,
          "Natural Gas": 365313,
          "Petroleum": 555561,
          "Nuclear": 340153,
          "Renewable": 149042,
          "State Name": "Arizona",
          "Region": "West",
          "longitude": -111.66003735060023,
          "latitude": 34.27701472598031,
          "total": 1795891
        },
        {
          "State": "CA",
          "year": 2015,
          "Coal": 30967,
          "Natural Gas": 2384061,
          "Petroleum": 3212105,
          "Nuclear": 193529,
          "Renewable": 862888,
          "State Name": "California",
          "Region": "West",
          "longitude": -119.47245893269529,
          "latitude": 37.18609925753478,
          "total": 6683550
        },
        {
          "State": "CO",
          "year": 2015,
          "Coal": 340107,
          "Natural Gas": 490642,
          "Petroleum": 485863,
          "Nuclear": 0,
          "Renewable": 133588,
          "State Name": "Colorado",
          "Region": "West",
          "longitude": -105.54771197118698,
          "latitude": 38.99634040841596,
          "total": 1450200
        },
        {
          "State": "CT",
          "year": 2015,
          "Coal": 6536,
          "Natural Gas": 260925,
          "Petroleum": 314379,
          "Nuclear": 182083,
          "Renewable": 46767,
          "State Name": "Connecticut",
          "Region": "Northeast",
          "longitude": -72.72637134607875,
          "latitude": 41.62056512116565,
          "total": 810690
        },
        {
          "State": "DC",
          "year": 2015,
          "Coal": 44,
          "Natural Gas": 33654,
          "Petroleum": 20423,
          "Nuclear": 0,
          "Renewable": 1831,
          "State Name": "District of Columbia",
          "Region": "South",
          "longitude": -77.01627756354179,
          "latitude": 38.904717484925655,
          "total": 55952
        },
        {
          "State": "DE",
          "year": 2015,
          "Coal": 7149,
          "Natural Gas": 107819,
          "Petroleum": 106223,
          "Nuclear": 0,
          "Renewable": 7745,
          "State Name": "Delaware",
          "Region": "South",
          "longitude": -75.49935175696048,
          "latitude": 38.98496561091943,
          "total": 228936
        },
        {
          "State": "FL",
          "year": 2015,
          "Coal": 466530,
          "Natural Gas": 1378089,
          "Petroleum": 1705201,
          "Nuclear": 294099,
          "Renewable": 293759,
          "State Name": "Florida",
          "Region": "South",
          "longitude": -82.45065444572872,
          "latitude": 28.62232216154619,
          "total": 4137678
        },
        {
          "State": "GA",
          "year": 2015,
          "Coal": 394665,
          "Natural Gas": 712580,
          "Petroleum": 1008952,
          "Nuclear": 353883,
          "Renewable": 300816,
          "State Name": "Georgia",
          "Region": "South",
          "longitude": -83.43578717116625,
          "latitude": 32.640099342684614,
          "total": 2770896
        },
        {
          "State": "HI",
          "year": 2015,
          "Coal": 15632,
          "Natural Gas": 196,
          "Petroleum": 251136,
          "Nuclear": 0,
          "Renewable": 29428,
          "State Name": "Hawaii",
          "Region": "West",
          "longitude": -156.3417621029925,
          "latitude": 20.26110127186162,
          "total": 296392
        },
        {
          "State": "IA",
          "year": 2015,
          "Coal": 348293,
          "Natural Gas": 302936,
          "Petroleum": 413877,
          "Nuclear": 54836,
          "Renewable": 426053,
          "State Name": "Iowa",
          "Region": "Midwest",
          "longitude": -93.49612154916504,
          "latitude": 42.07369678376805,
          "total": 1545995
        },
        {
          "State": "ID",
          "year": 2015,
          "Coal": 4249,
          "Natural Gas": 107871,
          "Petroleum": 173518,
          "Nuclear": 0,
          "Renewable": 154472,
          "State Name": "Idaho",
          "Region": "West",
          "longitude": -114.61638587323849,
          "latitude": 44.3463421047293,
          "total": 440110
        },
        {
          "State": "IL",
          "year": 2015,
          "Coal": 850430,
          "Natural Gas": 1011357,
          "Petroleum": 1245970,
          "Nuclear": 1017377,
          "Renewable": 269098,
          "State Name": "Illinois",
          "Region": "Midwest",
          "longitude": -89.19668934440723,
          "latitude": 40.04162122560064,
          "total": 4394232
        },
        {
          "State": "IN",
          "year": 2015,
          "Coal": 1007472,
          "Natural Gas": 735055,
          "Petroleum": 753457,
          "Nuclear": 0,
          "Renewable": 172315,
          "State Name": "Indiana",
          "Region": "Midwest",
          "longitude": -86.28129929885925,
          "latitude": 39.893810777913814,
          "total": 2668299
        },
        {
          "State": "KS",
          "year": 2015,
          "Coal": 273416,
          "Natural Gas": 280421,
          "Petroleum": 338769,
          "Nuclear": 90254,
          "Renewable": 149447,
          "State Name": "Kansas",
          "Region": "Midwest",
          "longitude": -98.37862739000883,
          "latitude": 38.492802091087555,
          "total": 1132307
        },
        {
          "State": "KY",
          "year": 2015,
          "Coal": 796484,
          "Natural Gas": 276867,
          "Petroleum": 595609,
          "Nuclear": 0,
          "Renewable": 89392,
          "State Name": "Kentucky",
          "Region": "South",
          "longitude": -85.30164179159136,
          "latitude": 37.534704676701196,
          "total": 1758352
        },
        {
          "State": "LA",
          "year": 2015,
          "Coal": 174221,
          "Natural Gas": 1594207,
          "Petroleum": 1711747,
          "Nuclear": 160015,
          "Renewable": 158293,
          "State Name": "Louisiana",
          "Region": "South",
          "longitude": -91.9728888450631,
          "latitude": 31.055370435568488,
          "total": 3798483
        },
        {
          "State": "MA",
          "year": 2015,
          "Coal": 24177,
          "Natural Gas": 457124,
          "Petroleum": 581068,
          "Nuclear": 52236,
          "Renewable": 88991,
          "State Name": "Massachusetts",
          "Region": "Northeast",
          "longitude": -71.79669943005086,
          "latitude": 42.255239487095956,
          "total": 1203596
        },
        {
          "State": "MD",
          "year": 2015,
          "Coal": 165994,
          "Natural Gas": 225969,
          "Petroleum": 497313,
          "Nuclear": 153140,
          "Renewable": 73197,
          "State Name": "Maryland",
          "Region": "South",
          "longitude": -76.76401322532233,
          "latitude": 39.037325927360605,
          "total": 1115613
        },
        {
          "State": "ME",
          "year": 2015,
          "Coal": 2588,
          "Natural Gas": 54203,
          "Petroleum": 193289,
          "Nuclear": 0,
          "Renewable": 168598,
          "State Name": "Maine",
          "Region": "Northeast",
          "longitude": -69.237836819468,
          "latitude": 45.3575590976389,
          "total": 418678
        },
        {
          "State": "MI",
          "year": 2015,
          "Coal": 617280,
          "Natural Gas": 871834,
          "Petroleum": 870030,
          "Nuclear": 306773,
          "Renewable": 239258,
          "State Name": "Michigan",
          "Region": "Midwest",
          "longitude": -85.38500096872117,
          "latitude": 44.31609121824921,
          "total": 2905175
        },
        {
          "State": "MN",
          "year": 2015,
          "Coal": 271570,
          "Natural Gas": 448557,
          "Petroleum": 592681,
          "Nuclear": 125900,
          "Renewable": 277535,
          "State Name": "Minnesota",
          "Region": "Midwest",
          "longitude": -94.30555778724269,
          "latitude": 46.27605167530935,
          "total": 1716243
        },
        {
          "State": "MO",
          "year": 2015,
          "Coal": 696401,
          "Natural Gas": 270885,
          "Petroleum": 623982,
          "Nuclear": 109182,
          "Renewable": 95352,
          "State Name": "Missouri",
          "Region": "Midwest",
          "longitude": -92.45821548813534,
          "latitude": 38.35645420646908,
          "total": 1795802
        },
        {
          "State": "MS",
          "year": 2015,
          "Coal": 71626,
          "Natural Gas": 536996,
          "Petroleum": 374453,
          "Nuclear": 122511,
          "Renewable": 74194,
          "State Name": "Mississippi",
          "Region": "South",
          "longitude": -89.66775566642066,
          "latitude": 32.737543433409556,
          "total": 1179780
        },
        {
          "State": "MT",
          "year": 2015,
          "Coal": 178421,
          "Natural Gas": 77443,
          "Petroleum": 166486,
          "Nuclear": 0,
          "Renewable": 129472,
          "State Name": "Montana",
          "Region": "West",
          "longitude": -109.63426779152478,
          "latitude": 47.04280172277759,
          "total": 551822
        },
        {
          "State": "NC",
          "year": 2015,
          "Coal": 405525,
          "Natural Gas": 516026,
          "Petroleum": 855229,
          "Nuclear": 440248,
          "Renewable": 206876,
          "State Name": "North Carolina",
          "Region": "South",
          "longitude": -79.37137364373987,
          "latitude": 35.554510143802815,
          "total": 2423904
        },
        {
          "State": "ND",
          "year": 2015,
          "Coal": 408091,
          "Natural Gas": 100852,
          "Petroleum": 190821,
          "Nuclear": 0,
          "Renewable": 109435,
          "State Name": "North Dakota",
          "Region": "Midwest",
          "longitude": -100.46623177241824,
          "latitude": 47.44581188000545,
          "total": 809199
        },
        {
          "State": "NE",
          "year": 2015,
          "Coal": 266319,
          "Natural Gas": 170346,
          "Petroleum": 231933,
          "Nuclear": 107976,
          "Renewable": 162645,
          "State Name": "Nebraska",
          "Region": "Midwest",
          "longitude": -99.79558609806887,
          "latitude": 41.53543471537738,
          "total": 939219
        },
        {
          "State": "NH",
          "year": 2015,
          "Coal": 10989,
          "Natural Gas": 70742,
          "Petroleum": 152127,
          "Nuclear": 99186,
          "Renewable": 67612,
          "State Name": "New Hampshire",
          "Region": "Northeast",
          "longitude": -71.5802323254485,
          "latitude": 43.678832141462486,
          "total": 400656
        },
        {
          "State": "NJ",
          "year": 2015,
          "Coal": 22925,
          "Natural Gas": 778866,
          "Petroleum": 882576,
          "Nuclear": 347851,
          "Renewable": 81596,
          "State Name": "New Jersey",
          "Region": "Northeast",
          "longitude": -74.6631684496446,
          "latitude": 40.17978566703088,
          "total": 2113814
        },
        {
          "State": "NM",
          "year": 2015,
          "Coal": 215703,
          "Natural Gas": 260038,
          "Petroleum": 235852,
          "Nuclear": 0,
          "Renewable": 48923,
          "State Name": "New Mexico",
          "Region": "West",
          "longitude": -106.11273696525063,
          "latitude": 34.409550525684466,
          "total": 760516
        },
        {
          "State": "NV",
          "year": 2015,
          "Coal": 36635,
          "Natural Gas": 312602,
          "Petroleum": 261261,
          "Nuclear": 0,
          "Renewable": 85250,
          "State Name": "Nevada",
          "Region": "West",
          "longitude": -116.63185582760242,
          "latitude": 39.328677480336054,
          "total": 695748
        },
        {
          "State": "NY",
          "year": 2015,
          "Coal": 41241,
          "Natural Gas": 1396693,
          "Petroleum": 1404701,
          "Nuclear": 466457,
          "Renewable": 448402,
          "State Name": "New York",
          "Region": "Northeast",
          "longitude": -75.50758556468602,
          "latitude": 42.93534329445921,
          "total": 3757494
        },
        {
          "State": "OH",
          "year": 2015,
          "Coal": 865714,
          "Natural Gas": 1031716,
          "Petroleum": 1084513,
          "Nuclear": 181726,
          "Renewable": 156941,
          "State Name": "Ohio",
          "Region": "Midwest",
          "longitude": -82.79414977612105,
          "latitude": 40.2865556231196,
          "total": 3320610
        },
        {
          "State": "OK",
          "year": 2015,
          "Coal": 280748,
          "Natural Gas": 711393,
          "Petroleum": 512064,
          "Nuclear": 0,
          "Renewable": 203142,
          "State Name": "Oklahoma",
          "Region": "South",
          "longitude": -97.49349386161508,
          "latitude": 35.589273372493224,
          "total": 1707347
        },
        {
          "State": "OR",
          "year": 2015,
          "Coal": 26515,
          "Natural Gas": 245897,
          "Petroleum": 322631,
          "Nuclear": 0,
          "Renewable": 451693,
          "State Name": "Oregon",
          "Region": "West",
          "longitude": -120.56104064861245,
          "latitude": 43.93117326994397,
          "total": 1046736
        },
        {
          "State": "PA",
          "year": 2015,
          "Coal": 878829,
          "Natural Gas": 1313350,
          "Petroleum": 1193549,
          "Nuclear": 842044,
          "Renewable": 235371,
          "State Name": "Pennsylvania",
          "Region": "Northeast",
          "longitude": -77.799271487467,
          "latitude": 40.877127898894166,
          "total": 4463143
        },
        {
          "State": "RI",
          "year": 2015,
          "Coal": 0,
          "Natural Gas": 96514,
          "Petroleum": 86065,
          "Nuclear": 0,
          "Renewable": 8469,
          "State Name": "Rhode Island",
          "Region": "Northeast",
          "longitude": -71.55374037413921,
          "latitude": 41.67568380097586,
          "total": 191048
        },
        {
          "State": "SC",
          "year": 2015,
          "Coal": 241217,
          "Natural Gas": 284013,
          "Petroleum": 506268,
          "Nuclear": 555909,
          "Renewable": 151243,
          "State Name": "South Carolina",
          "Region": "South",
          "longitude": -80.88997017975235,
          "latitude": 33.90700452744923,
          "total": 1738650
        },
        {
          "State": "SD",
          "year": 2015,
          "Coal": 19616,
          "Natural Gas": 83370,
          "Petroleum": 113332,
          "Nuclear": 0,
          "Renewable": 136976,
          "State Name": "South Dakota",
          "Region": "Midwest",
          "longitude": -100.22716875519832,
          "latitude": 44.44081623720136,
          "total": 353294
        },
        {
          "State": "TN",
          "year": 2015,
          "Coal": 370650,
          "Natural Gas": 322468,
          "Petroleum": 694084,
          "Nuclear": 261037,
          "Renewable": 196756,
          "State Name": "Tennessee",
          "Region": "South",
          "longitude": -86.34949386289675,
          "latitude": 35.85850773202682,
          "total": 1844995
        },
        {
          "State": "TX",
          "year": 2015,
          "Coal": 1340422,
          "Natural Gas": 4263856,
          "Petroleum": 6033759,
          "Nuclear": 411571,
          "Renewable": 672724,
          "State Name": "Texas",
          "Region": "South",
          "longitude": -99.32059276294517,
          "latitude": 31.475293025871352,
          "total": 12722332
        },
        {
          "State": "UT",
          "year": 2015,
          "Coal": 330043,
          "Natural Gas": 242848,
          "Petroleum": 278993,
          "Nuclear": 0,
          "Renewable": 33788,
          "State Name": "Utah",
          "Region": "West",
          "longitude": -111.67045328972272,
          "latitude": 39.30523848196728,
          "total": 885672
        },
        {
          "State": "VA",
          "year": 2015,
          "Coal": 232427,
          "Natural Gas": 526314,
          "Petroleum": 815138,
          "Nuclear": 293455,
          "Renewable": 169017,
          "State Name": "Virginia",
          "Region": "South",
          "longitude": -78.82238063097192,
          "latitude": 37.52063642338951,
          "total": 2036351
        },
        {
          "State": "VT",
          "year": 2015,
          "Coal": 0,
          "Natural Gas": 12245,
          "Petroleum": 81615,
          "Nuclear": 0,
          "Renewable": 41538,
          "State Name": "Vermont",
          "Region": "Northeast",
          "longitude": -72.66580546409575,
          "latitude": 44.068811056022255,
          "total": 135398
        },
        {
          "State": "WA",
          "year": 2015,
          "Coal": 58273,
          "Natural Gas": 327738,
          "Petroleum": 732260,
          "Nuclear": 85347,
          "Renewable": 892136,
          "State Name": "Washington",
          "Region": "West",
          "longitude": -120.45208606875204,
          "latitude": 47.37890184205663,
          "total": 2095754
        },
        {
          "State": "WI",
          "year": 2015,
          "Coal": 408189,
          "Natural Gas": 476969,
          "Petroleum": 535066,
          "Nuclear": 104666,
          "Renewable": 199955,
          "State Name": "Wisconsin",
          "Region": "Midwest",
          "longitude": -89.99549011513399,
          "latitude": 44.62260070199991,
          "total": 1724845
        },
        {
          "State": "WV",
          "year": 2015,
          "Coal": 730949,
          "Natural Gas": 191059,
          "Petroleum": 189908,
          "Nuclear": 0,
          "Renewable": 45008,
          "State Name": "West Virginia",
          "Region": "South",
          "longitude": -80.6235110578439,
          "latitude": 38.64082573454084,
          "total": 1156924
        },
        {
          "State": "WY",
          "year": 2015,
          "Coal": 487177,
          "Natural Gas": 126421,
          "Petroleum": 159935,
          "Nuclear": 0,
          "Renewable": 52386,
          "State Name": "Wyoming",
          "Region": "West",
          "longitude": -107.55130994687136,
          "latitude": 42.99271597469181,
          "total": 825919
        }
      ]
    },
    {
      "name": "data_0",
      "source": "data-42928075b6a95c590274554971cbda4a",
      "transform": [
        {
          "type": "filter",
          "expr": "isValid(datum[\"total\"]) && isFinite(+datum[\"total\"]) && isValid(datum[\"Renewable\"]) && isFinite(+datum[\"Renewable\"]) && isValid(datum[\"Natural Gas\"]) && isFinite(+datum[\"Natural Gas\"])"
        }
      ]
    }
  ],
  "marks": [
    {
      "name": "marks",
      "type": "symbol",
      "style": ["point"],
      "sort": {"field": ["datum[\"total\"]"], "order": ["descending"]},
      "from": {"data": "data_0"},
      "encode": {
        "update": {
          "opacity": {"value": 0.5},
          "fill": {"scale": "color", "field": "Region"},
          "tooltip": {
            "signal": "{\"State Name\": isValid(datum[\"State Name\"]) ? datum[\"State Name\"] : \"\"+datum[\"State Name\"], \"total\": format(datum[\"total\"], \"\"), \"Natural Gas\": format(datum[\"Natural Gas\"], \"\"), \"Renewable\": format(datum[\"Renewable\"], \"\")}"
          },
          "ariaRoleDescription": {"value": "point"},
          "description": {
            "signal": "\"Region: \" + (isValid(datum[\"Region\"]) ? datum[\"Region\"] : \"\"+datum[\"Region\"]) + \"; total: \" + (format(datum[\"total\"], \"\")) + \"; State Name: \" + (isValid(datum[\"State Name\"]) ? datum[\"State Name\"] : \"\"+datum[\"State Name\"]) + \"; Natural Gas: \" + (format(datum[\"Natural Gas\"], \"\")) + \"; Renewable: \" + (format(datum[\"Renewable\"], \"\"))"
          },
          "x": {"scale": "x", "field": "Renewable"},
          "y": {"scale": "y", "field": "Natural Gas"},
          "size": {"scale": "size", "field": "total"}
        }
      }
    }
  ],
  "scales": [
    {
      "name": "x",
      "type": "linear",
      "domain": {"data": "data_0", "field": "Renewable"},
      "range": [0, {"signal": "width"}],
      "nice": true,
      "zero": true
    },
    {
      "name": "y",
      "type": "linear",
      "domain": {"data": "data_0", "field": "Natural Gas"},
      "range": [{"signal": "height"}, 0],
      "nice": true,
      "zero": true
    },
    {
      "name": "color",
      "type": "ordinal",
      "domain": {"data": "data_0", "field": "Region", "sort": true},
      "range": "category"
    },
    {
      "name": "size",
      "type": "linear",
      "domain": {"data": "data_0", "field": "total"},
      "range": [0, 1000],
      "zero": true
    }
  ],
  "axes": [
    {
      "scale": "x",
      "orient": "bottom",
      "gridScale": "y",
      "grid": true,
      "tickCount": {"signal": "ceil(width/40)"},
      "domain": false,
      "labels": false,
      "aria": false,
      "maxExtent": 0,
      "minExtent": 0,
      "ticks": false,
      "zindex": 0
    },
    {
      "scale": "y",
      "orient": "left",
      "gridScale": "x",
      "grid": true,
      "tickCount": {"signal": "ceil(height/40)"},
      "domain": false,
      "labels": false,
      "aria": false,
      "maxExtent": 0,
      "minExtent": 0,
      "ticks": false,
      "zindex": 0
    },
    {
      "scale": "x",
      "orient": "bottom",
      "grid": false,
      "title": "Renewable",
      "labelFlush": true,
      "labelOverlap": true,
      "tickCount": {"signal": "ceil(width/40)"},
      "zindex": 0
    },
    {
      "scale": "y",
      "orient": "left",
      "grid": false,
      "title": "Natural Gas",
      "labelOverlap": true,
      "tickCount": {"signal": "ceil(height/40)"},
      "zindex": 0
    }
  ],
  "legends": [
    {
      "fill": "color",
      "symbolType": "circle",
      "title": "Region",
      "encode": {"symbols": {"update": {"opacity": {"value": 0.5}}}}
    },
    {
      "size": "size",
      "symbolType": "circle",
      "title": "total",
      "encode": {
        "symbols": {
          "update": {
            "fill": {"value": "black"},
            "fillOpacity": {"value": 0.5},
            "opacity": {"value": 0.5},
            "stroke": {"value": "transparent"}
          }
        }
      }
    }
  ]
}